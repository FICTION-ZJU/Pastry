#while(sent<toSend&fail<maxFail){
#    {fail:=0;sent:=sent+1}[0.9{fail:=fail+1;totalFail:=totalFail+1}]
#}

#Parameter setting: maxFail = toSend = 4

/*@Bounded,fail,[0,4],sent,[0,4]@*/
int sent=0;
int fail=0;
while((sent<4)&(fail<4)){
    {
        while(fail>0){
            fail:=fail-1
        }
        sent:=sent+1
    }[9/10]{
        fail:=fail+1;
    }  
}